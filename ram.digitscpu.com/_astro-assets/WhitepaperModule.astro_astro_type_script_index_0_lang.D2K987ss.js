import{g as t}from"./all.BX7bGCfb.js";import{S as e}from"./ScrollTrigger.C0cpPIj4.js";import"./CSSPlugin.2Fz8jr6P.js";t.registerPlugin(e);class i{form;emailInput;dropdownInput;submitButton;validateButton;radioInputs;radioError;constructor(t){t&&(this.form=t,this.emailInput=this.form.querySelector('input[type="email"]'),this.dropdownInput=this.form.querySelector("select"),this.submitButton=this.form.querySelector('button[type="submit"]'),this.validateButton=this.form.querySelector(".email-cta-form__validate-button"),this.radioInputs=this.form.querySelectorAll('input[type="radio"]'),this.radioError=this.form.querySelector(".radio-error"),this.submitButton.setAttribute("tabindex","-1"),this.setEventListeners())}setEventListeners=()=>{this.form.addEventListener("submit",this.handleSubmit),this.emailInput.addEventListener("input",this.handleInput),this.radioInputs.length&&this.radioInputs.forEach((t=>{t.addEventListener("change",this.handleRadioChange)})),this.validateButton&&(this.validateButton.addEventListener("click",this.handleValidateButtonClick),this.validateButton.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.handleValidateButtonClick())})),this.validateButton.addEventListener("mouseenter",(()=>{this.submitButton.classList.add("hovered")})),this.validateButton.addEventListener("mouseleave",(()=>{this.submitButton.classList.remove("hovered")}))),this.dropdownInput&&this.dropdownInput.addEventListener("input",(()=>this.setHasValue(this.dropdownInput)))};handleInput=()=>{this.setHasValue(this.emailInput),this.emailInput.value.trim()||this.clearErrorState()};handleRadioChange=()=>{this.radioError&&(this.radioError.style.display="none")};handleValidateButtonClick=()=>{let t=!1,e=!1;if(this.radioInputs.length){Array.from(this.radioInputs).some((t=>t.checked))?this.radioError&&(this.radioError.style.display="none"):(t=!0,this.radioError&&(this.radioError.style.display="block"))}this.emailInput.value.trim()&&this.validateInput(this.emailInput)?this.clearErrorState():(e=!0,this.setErrorState()),t||e||this.submitButton.click()};handleSubmit=t=>{t.preventDefault()};setErrorState=()=>{this.emailInput.setAttribute("data-state","error")};clearErrorState=()=>{this.emailInput.removeAttribute("data-state")};validateInput=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value);setHasValue(t){const e=t.value.trim();t.classList.toggle("has-value",""!==e)}}const r=()=>{document.querySelectorAll(".email-cta-form").forEach((t=>{new i(t)})),(()=>{const e=document.querySelectorAll(".whitepaper__bar");e.length&&e.forEach((e=>{const i=e.dataset.heightval,r=1.06951872*Number(i);t.to(e,{height:`${r}%`,duration:1,ease:"power2.out",scrollTrigger:{trigger:e.closest(".whitepaper"),start:"top 60%",toggleActions:"play none none none"}})}))})()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r();
